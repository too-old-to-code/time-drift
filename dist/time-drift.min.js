(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.timeDrift = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _slicedToArray(r,t){return _arrayWithHoles(r)||_iterableToArrayLimit(r,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(r,t){var e=[],n=!0,o=!1,i=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done)&&(e.push(a.value),!t||e.length!==t);n=!0);}catch(r){o=!0,i=r}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return e}function _arrayWithHoles(r){if(Array.isArray(r))return r}function timeDrift(r,t){if(!/^\d\d.\d\d(.\d\d)?$/.test(r))throw new Error("Time format is incorrect. It should be either 'HH:MM:SS' or 'HH:MM', where the colon can be replaced by a non-numerical character");var e=_slicedToArray(r.split(/[.:\- ]/).map(function(r){return Number(r)}),3),n=e[0],o=e[1],i=e[2];if(n>23||n<0)throw new Error("Hours must be between 0 and 23");if(o>59||o<0)throw new Error("Minutes must be between 0 and 59");if(null!=i&&(i>59||i<0))throw new Error("Seconds must be between 0 and 59");if(t&&("string"!=typeof t||t.length>1))throw new Error("Separator must be a single, non-numerical character");function a(r,t){if("number"!=typeof r)throw new Error("First argument of ".concat(t," method must be a number"))}function s(r,t){if("string"!=typeof r)throw new Error("Second argument of ".concat(t," method must be a string representing the unit of time"));var e=r.charAt(0).toLowerCase();if(!["h","m","s"].includes(e))throw new Error("Second argument of ".concat(t," method must be hours, minutes or seconds"));if("s"===e&&null==i)throw new Error("You can't adjust seconds if they weren't included in the original time given");return e}var u={normalize:function(r){return null==i&&r.pop(),r.map(function(r){return(r=String(r)).length<2?"0"+r:r}).join(t||":")},hasCrossedMidnight:!1,add:function(r,t){switch(a(r,"add"),this.hasCrossedMidnight=!1,s(t,"add")){case"h":this.hasCrossedMidnight=Boolean(Math.floor((n+r)/24)),n=(n+r)%24;break;case"m":var e=Math.floor((o+r)/60);o=(o+r)%60,this.add(e,"h");break;case"s":var u=Math.floor((i+r)/60);i=(i+r)%60,this.add(u,"m")}return this},subtract:function(r,t){a(r,"subtract"),this.hasCrossedMidnight=!1;var e=0;switch(s(t,"subtract")){case"h":for(var u=n-r;u<0;)e++,u=24+u;n=u,e&&(this.hasCrossedMidnight=!0);break;case"m":for(var h=o-r;h<0;)e++,h=60+h;o=h,e&&this.subtract(e,"h");break;case"s":for(var c=i-r;c<0;)e++,c=60+c;i=c,e&&this.subtract(e,"m")}return this}};return Object.defineProperty(u,"val",{get:function(){return this.normalize([n,o,i])}}),u.add=u.add.bind(u),u.subtract=u.subtract.bind(u),u}module.exports=timeDrift;

},{}]},{},[1])(1)
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdGltZS1kcmlmdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLHVoQkFFQSxTQUFTLFVBQVcsRUFBTSxHQUl4QixJQUhtQixzQkFHSCxLQUFLLEdBQ25CLE1BQU0sSUFBSSxNQUFNLHFJQUlsQixJQVRtQyxFQUFBLGVBU1osRUFBSyxNQUFNLFdBQVcsSUFBSSxTQUFBLEdBQVMsT0FBSSxPQUFPLEtBVGxDLEdBVTlCLEVBVjhCLEVBQUEsR0FVdkIsRUFWdUIsRUFBQSxHQVVkLEVBVmMsRUFBQSxHQWFuQyxHQUFHLEVBQVEsSUFBTSxFQUFRLEVBQ3ZCLE1BQU0sSUFBSSxNQUFNLGtDQUlsQixHQUFHLEVBQVUsSUFBTSxFQUFVLEVBQzNCLE1BQU0sSUFBSSxNQUFNLG9DQUlsQixHQUFjLE1BQVgsSUFBb0IsRUFBVSxJQUFNLEVBQVUsR0FDL0MsTUFBTSxJQUFJLE1BQU0sb0NBSWxCLEdBQUcsSUFBbUMsaUJBQWQsR0FBMEIsRUFBVSxPQUFTLEdBQ25FLE1BQU0sSUFBSSxNQUFNLHVEQUlsQixTQUFTLEVBQWEsRUFBSyxHQUN6QixHQUFtQixpQkFBUixFQUNULE1BQU0sSUFBSSxNQUFKLHFCQUFBLE9BQStCLEVBQS9CLDZCQUlWLFNBQVMsRUFBYyxFQUFNLEdBRTNCLEdBQW9CLGlCQUFULEVBQ1QsTUFBTSxJQUFJLE1BQUosc0JBQUEsT0FBZ0MsRUFBaEMsMkRBS1IsSUFBSSxFQUFXLEVBQUssT0FBTyxHQUFHLGNBRzlCLElBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxTQUFTLEdBQzFCLE1BQU0sSUFBSSxNQUFKLHNCQUFBLE9BQWdDLEVBQWhDLDhDQUtSLEdBQWlCLE1BQWIsR0FBK0IsTUFBWCxFQUN0QixNQUFNLElBQUksTUFBSixnRkFHUixPQUFPLEVBR1QsSUFBTSxFQUFXLENBQ2YsVUFEZSxTQUNKLEdBU1QsT0FOZSxNQUFYLEdBQ0YsRUFBWSxNQUtQLEVBQVksSUFBSSxTQUFTLEdBRTlCLE9BREEsRUFBTyxPQUFPLElBQ0YsT0FBUyxFQUFJLElBQU0sRUFBTyxJQUNyQyxLQUFLLEdBQWEsTUFHdkIsb0JBQW9CLEVBR3BCLElBbkJlLFNBbUJWLEVBQUssR0FJUixPQUhBLEVBQVksRUFBSyxPQUNqQixLQUFLLG9CQUFxQixFQUNKLEVBQWEsRUFBTSxRQUV6QyxJQUFLLElBQ0gsS0FBSyxtQkFBcUIsUUFBUSxLQUFLLE9BQU8sRUFBUSxHQUFLLEtBQzNELEdBQVMsRUFBUSxHQUFPLEdBQ3hCLE1BQ0YsSUFBSyxJQUNILElBQUksRUFBYSxLQUFLLE9BQU8sRUFBVSxHQUFLLElBQzVDLEdBQVcsRUFBVSxHQUFPLEdBQzVCLEtBQUssSUFBSSxFQUFZLEtBQ3JCLE1BQ0YsSUFBSyxJQUNILElBQUksRUFBZSxLQUFLLE9BQU8sRUFBVSxHQUFLLElBQzlDLEdBQVcsRUFBVSxHQUFPLEdBQzVCLEtBQUssSUFBSSxFQUFjLEtBR3pCLE9BQU8sTUFJVCxTQTNDZSxTQTJDTCxFQUFLLEdBQ2IsRUFBWSxFQUFLLFlBQ2pCLEtBQUssb0JBQXFCLEVBQzFCLElBQ0ksRUFBUSxFQUNaLE9BRnNCLEVBQWEsRUFBTSxhQUd6QyxJQUFLLElBRUgsSUFEQSxJQUFJLEVBQWEsRUFBUSxFQUNuQixFQUFhLEdBQ2pCLElBQ0EsRUFBYSxHQUFLLEVBRXBCLEVBQVEsRUFDSixJQUNGLEtBQUssb0JBQXFCLEdBRTVCLE1BQ0YsSUFBSyxJQUVILElBREEsSUFBSSxFQUFlLEVBQVUsRUFDdkIsRUFBZSxHQUNuQixJQUNBLEVBQWUsR0FBSyxFQUV0QixFQUFVLEVBQ1AsR0FDRCxLQUFLLFNBQVMsRUFBTyxLQUV2QixNQUNGLElBQUssSUFFSCxJQURBLElBQUksRUFBZSxFQUFVLEVBQ3ZCLEVBQWUsR0FDbkIsSUFDQSxFQUFlLEdBQUssRUFFdEIsRUFBVSxFQUNQLEdBQ0QsS0FBSyxTQUFTLEVBQU8sS0FJekIsT0FBTyxPQWFYLE9BVEEsT0FBTyxlQUFlLEVBQVUsTUFBTyxDQUNyQyxJQUFLLFdBQ0gsT0FBTyxLQUFLLFVBQVUsQ0FBQyxFQUFPLEVBQVMsT0FJM0MsRUFBUyxJQUFNLEVBQVMsSUFBSSxLQUFLLEdBQ2pDLEVBQVMsU0FBVyxFQUFTLFNBQVMsS0FBSyxHQUVwQyxFQUdULE9BQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlwidXNlIHN0cmljdFwiXG5cbmZ1bmN0aW9uIHRpbWVEcmlmdCAodGltZSwgc2VwYXJhdG9yKSB7XG4gIGNvbnN0IHRpbWVGb3JtYXQgPSAvXlxcZFxcZC5cXGRcXGQoLlxcZFxcZCk/JC9cblxuICAvLyBDaGVjayB0aGF0IHRoZSB0aW1lIGZvcm1hdCBpcyBjb3JyZWN0XG4gIGlmICghdGltZUZvcm1hdC50ZXN0KHRpbWUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGltZSBmb3JtYXQgaXMgaW5jb3JyZWN0LiBJdCBzaG91bGQgYmUgZWl0aGVyICdISDpNTTpTUycgb3IgJ0hIOk1NJywgXFxcbndoZXJlIHRoZSBjb2xvbiBjYW4gYmUgcmVwbGFjZWQgYnkgYSBub24tbnVtZXJpY2FsIGNoYXJhY3RlclwiKVxuICB9XG5cbiAgY29uc3QgdGltZUNvbXBvbmVudHMgPSB0aW1lLnNwbGl0KC9bLjpcXC0gXS8pLm1hcChjb21wb25lbnQgPT4gTnVtYmVyKGNvbXBvbmVudCkpXG4gIGxldCBbaG91cnMsIG1pbnV0ZXMsIHNlY29uZHNdID0gdGltZUNvbXBvbmVudHNcblxuICAvLyBjaGVjayBob3VycyBhcmUgd2l0aGluIHZhbGlkIHJhbmdlXG4gIGlmKGhvdXJzID4gMjMgfHwgaG91cnMgPCAwKXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0hvdXJzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyMycpXG4gIH1cblxuICAvLyBjaGVjayBtaW51dGVzIGFyZSB3aXRoaW4gdmFsaWQgcmFuZ2VcbiAgaWYobWludXRlcyA+IDU5IHx8IG1pbnV0ZXMgPCAwKXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbnV0ZXMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDU5JylcbiAgfVxuXG4gIC8vIGNoZWNrIHNlY29uZHMgYXJlIHdpdGhpbiB2YWxpZCByYW5nZVxuICBpZihzZWNvbmRzICE9IG51bGwgJiYgKHNlY29uZHMgPiA1OSB8fCBzZWNvbmRzIDwgMCkpe1xuICAgIHRocm93IG5ldyBFcnJvcignU2Vjb25kcyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNTknKVxuICB9XG5cbiAgLy8gY2hlY2sgc2VwYXJhdG9yIGlzIHNpbmdsZSBub24tbnVtZXJpY2FsIGNoYXJhY3RlclxuICBpZihzZXBhcmF0b3IgJiYgKHR5cGVvZiBzZXBhcmF0b3IgIT09ICdzdHJpbmcnIHx8IHNlcGFyYXRvci5sZW5ndGggPiAxKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2VwYXJhdG9yIG11c3QgYmUgYSBzaW5nbGUsIG5vbi1udW1lcmljYWwgY2hhcmFjdGVyJylcbiAgfVxuXG4gIC8vIGNoZWNrIHRoYXQgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBhZGQgYW5kIHN1YnRyYWN0IG1ldGhvZHMgaXMgYSBudW1iZXJcbiAgZnVuY3Rpb24gdmFsaWRhdGVOdW0gKG51bSwgbWV0aG9kKSB7XG4gICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpcnN0IGFyZ3VtZW50IG9mICR7bWV0aG9kfSBtZXRob2QgbXVzdCBiZSBhIG51bWJlcmApXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVVbml0ICh1bml0LCBtZXRob2QpIHtcbiAgICAvLyBjaGVjayB0aGF0IHRoZSB1bml0IGlzIGEgc3RyaW5nXG4gICAgaWYgKHR5cGVvZiB1bml0ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZWNvbmQgYXJndW1lbnQgb2YgJHttZXRob2R9IG1ldGhvZCBtdXN0IGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdW5pdCBvZiB0aW1lYClcbiAgICB9XG5cbiAgICAvLyBqdXN0IGdyYWIgdGhlIGZpcnN0IGxldHRlciBvZiB0aGUgdW5pdCBhbmQgbG93ZXJjYXNlIGl0LiBUaGlzIGlzIGVub3VnaCB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuXG4gICAgLy8gdW5pdHNcbiAgICBsZXQgdW5pdENoYXIgPSB1bml0LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpXG5cbiAgICAvLyBjaGVjayB0aGUgdGltZSB1bml0IHVzZWQgYmVnaW5zIHdpdGggdGhlIGZpcnN0IGNoYXJhY3RlciBvZiB0aGUgd29yZHMgJ2hvdXJzJywgJ21pbnV0ZXMnLCBvciAnc2Vjb25kcydcbiAgICBpZiAoIVsnaCcsJ20nLCdzJ10uaW5jbHVkZXModW5pdENoYXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlY29uZCBhcmd1bWVudCBvZiAke21ldGhvZH0gbWV0aG9kIG11c3QgYmUgaG91cnMsIG1pbnV0ZXMgb3Igc2Vjb25kc2ApXG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIHRoYXQgbm8gY2FsY3VsYXRpb25zIGludm9sdmluZyBzZWNvbmRzIGNhbiBiZSBwZXJmb3JtZWQgaWYgbm8gc2Vjb25kcyB3ZXJlIHN0YXRlZCBpbiB0aGVcbiAgICAvLyBvcmlnaW5hbCB0aW1lIHRvIGJlIGNoYW5nZWRcbiAgICBpZiAodW5pdENoYXIgPT09ICdzJyAmJiBzZWNvbmRzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgWW91IGNhbid0IGFkanVzdCBzZWNvbmRzIGlmIHRoZXkgd2VyZW4ndCBpbmNsdWRlZCBpbiB0aGUgb3JpZ2luYWwgdGltZSBnaXZlbmApXG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaXRDaGFyXG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IHtcbiAgICBub3JtYWxpemUgKHJldHVybkFycmF5KSB7XG4gICAgICAvLyBpZiBubyBzZWNvbmRzIHdlcmUgaW5jbHVkZWQsIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGFycmF5XG4gICAgICAvLyB3aGljaCB3aWxsIGJlIHVuZGVmaW5lZFxuICAgICAgaWYgKHNlY29uZHMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm5BcnJheS5wb3AoKVxuICAgICAgfVxuXG4gICAgICAvLyBGb3IgZWFjaCBwYXJ0IG9mIHRoZSB0aW1lLCBlbnN1cmUgdGhhdCBpZiBpdCBpcyBsZXNzXG4gICAgICAvLyB0aGFuIDEwLCB0aGF0IGl0IGhhcyBhIHByZWNlZGluZyAwXG4gICAgICByZXR1cm4gcmV0dXJuQXJyYXkubWFwKGZ1bmN0aW9uKHBhcnQpe1xuICAgICAgICBwYXJ0ID0gU3RyaW5nKHBhcnQpXG4gICAgICAgIHJldHVybiBwYXJ0Lmxlbmd0aCA8IDIgPyAnMCcgKyBwYXJ0IDogcGFydFxuICAgICAgfSkuam9pbihzZXBhcmF0b3IgfHwgJzonKVxuICAgIH0sXG5cbiAgICBoYXNDcm9zc2VkTWlkbmlnaHQ6IGZhbHNlLFxuXG4gICAgLy8gVGhpcyBpcyBhIHNlbGYtcmVmZXJlbmNpbmcgbWV0aG9kXG4gICAgYWRkIChudW0sIHVuaXQpIHtcbiAgICAgIHZhbGlkYXRlTnVtKG51bSwgJ2FkZCcpXG4gICAgICB0aGlzLmhhc0Nyb3NzZWRNaWRuaWdodCA9IGZhbHNlXG4gICAgICBjb25zdCB1bml0Rmlyc3RDaGFyID0gdmFsaWRhdGVVbml0KHVuaXQsICdhZGQnKVxuICAgICAgc3dpdGNoKHVuaXRGaXJzdENoYXIpe1xuICAgICAgY2FzZSAnaCc6XG4gICAgICAgIHRoaXMuaGFzQ3Jvc3NlZE1pZG5pZ2h0ID0gQm9vbGVhbihNYXRoLmZsb29yKChob3VycyArIG51bSkvMjQpKVxuICAgICAgICBob3VycyA9IChob3VycyArIG51bSkgJSAyNFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbSc6XG4gICAgICAgIGxldCBob3Vyc1RvQWRkID0gTWF0aC5mbG9vcigobWludXRlcyArIG51bSkvNjApXG4gICAgICAgIG1pbnV0ZXMgPSAobWludXRlcyArIG51bSkgJSA2MFxuICAgICAgICB0aGlzLmFkZChob3Vyc1RvQWRkLCAnaCcpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzJzpcbiAgICAgICAgbGV0IG1pbnV0ZXNUb0FkZCA9IE1hdGguZmxvb3IoKHNlY29uZHMgKyBudW0pLzYwKVxuICAgICAgICBzZWNvbmRzID0gKHNlY29uZHMgKyBudW0pICUgNjBcbiAgICAgICAgdGhpcy5hZGQobWludXRlc1RvQWRkLCAnbScpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICAvLyBUaGlzIGlzIGEgc2VsZi1yZWZlcmVuY2luZyBtZXRob2RcbiAgICBzdWJ0cmFjdCAobnVtLCB1bml0KSB7XG4gICAgICB2YWxpZGF0ZU51bShudW0sICdzdWJ0cmFjdCcpXG4gICAgICB0aGlzLmhhc0Nyb3NzZWRNaWRuaWdodCA9IGZhbHNlXG4gICAgICBjb25zdCB1bml0Rmlyc3RDaGFyID0gdmFsaWRhdGVVbml0KHVuaXQsICdzdWJ0cmFjdCcpXG4gICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgc3dpdGNoKHVuaXRGaXJzdENoYXIpe1xuICAgICAgY2FzZSAnaCc6XG4gICAgICAgIGxldCBob3VyQW5zd2VyID0gaG91cnMgLSBudW1cbiAgICAgICAgd2hpbGUoaG91ckFuc3dlciA8IDApe1xuICAgICAgICAgIGNvdW50ICsrXG4gICAgICAgICAgaG91ckFuc3dlciA9IDI0ICsgaG91ckFuc3dlclxuICAgICAgICB9XG4gICAgICAgIGhvdXJzID0gaG91ckFuc3dlclxuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICB0aGlzLmhhc0Nyb3NzZWRNaWRuaWdodCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbSc6XG4gICAgICAgIGxldCBtaW51dGVBbnN3ZXIgPSBtaW51dGVzIC0gbnVtXG4gICAgICAgIHdoaWxlKG1pbnV0ZUFuc3dlciA8IDApe1xuICAgICAgICAgIGNvdW50ICsrXG4gICAgICAgICAgbWludXRlQW5zd2VyID0gNjAgKyBtaW51dGVBbnN3ZXJcbiAgICAgICAgfVxuICAgICAgICBtaW51dGVzID0gbWludXRlQW5zd2VyXG4gICAgICAgIGlmKGNvdW50KXtcbiAgICAgICAgICB0aGlzLnN1YnRyYWN0KGNvdW50LCAnaCcpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3MnOlxuICAgICAgICBsZXQgc2Vjb25kQW5zd2VyID0gc2Vjb25kcyAtIG51bVxuICAgICAgICB3aGlsZShzZWNvbmRBbnN3ZXIgPCAwKXtcbiAgICAgICAgICBjb3VudCArK1xuICAgICAgICAgIHNlY29uZEFuc3dlciA9IDYwICsgc2Vjb25kQW5zd2VyXG4gICAgICAgIH1cbiAgICAgICAgc2Vjb25kcyA9IHNlY29uZEFuc3dlclxuICAgICAgICBpZihjb3VudCl7XG4gICAgICAgICAgdGhpcy5zdWJ0cmFjdChjb3VudCwgJ20nKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNwb25zZSwgJ3ZhbCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZShbaG91cnMsIG1pbnV0ZXMsIHNlY29uZHNdKVxuICAgIH1cbiAgfSlcblxuICByZXNwb25zZS5hZGQgPSByZXNwb25zZS5hZGQuYmluZChyZXNwb25zZSlcbiAgcmVzcG9uc2Uuc3VidHJhY3QgPSByZXNwb25zZS5zdWJ0cmFjdC5iaW5kKHJlc3BvbnNlKVxuXG4gIHJldHVybiByZXNwb25zZVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRpbWVEcmlmdCJdfQ==
